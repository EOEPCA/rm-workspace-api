function Te(p,D){for(var b=0;b<D.length;b++){const m=D[b];if(typeof m!="string"&&!Array.isArray(m)){for(const y in m)if(y!=="default"&&!(y in p)){const w=Object.getOwnPropertyDescriptor(m,y);w&&Object.defineProperty(p,y,w.get?w:{enumerable:!0,get:()=>m[y]})}}}return Object.freeze(Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}))}function _e(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var H={exports:{}},ie;function Me(){return ie||(ie=1,(function(p,D){(function(b,m){p.exports=m()})(self,(()=>(()=>{var b={224:i=>{i.exports={rE:"2.23.1"}}},m={};function y(i){var n=m[i];if(n!==void 0)return n.exports;var t=m[i]={exports:{}};return b[i](t,t.exports,y),t.exports}y.d=(i,n)=>{for(var t in n)y.o(n,t)&&!y.o(i,t)&&Object.defineProperty(i,t,{enumerable:!0,get:n[t]})},y.o=(i,n)=>Object.prototype.hasOwnProperty.call(i,n);var w={};function j(i){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},j(i)}function ue(i,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,se(r.key),r)}}function se(i){var n=(function(t){if(j(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var e=r.call(t,"string");if(j(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)})(i);return j(n)=="symbol"?n:n+""}y.d(w,{default:()=>Ie});var E=(function(){return i=function t(){(function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.promises={}},(n=[{key:"setPromise",value:function(t,r){this.promises[t]=r}},{key:"getPromise",value:function(t){return this.promises[t]}}])&&ue(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,n})();function L(i){return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},L(i)}function le(i,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,ce(r.key),r)}}function ce(i){var n=(function(t){if(L(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var e=r.call(t,"string");if(L(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)})(i);return L(n)=="symbol"?n:n+""}var s=new((function(){return i=function t(){(function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),this.listeners=[],this.origin="";var r=(function(e){if(e.data.msg)if(e.data.msg==="custom"){var o=this.convertCustomMessageInternalToUser(e.data);this.listeners.filter((function(a){return a.name===o.id})).map((function(a){return a.eventFn(o,a.listenerId)}))}else this.listeners.filter((function(a){return a.name===e.data.msg})).map((function(a){return a.eventFn(e,a.listenerId)}))}).bind(this);window.addEventListener("message",r)},n=[{key:"convertCustomMessageInternalToUser",value:function(t){return t.data}},{key:"convertCustomMessageUserToInternal",value:function(t){return{msg:"custom",data:t}}},{key:"convertStorageMessageToInternal",value:function(t){return{msg:"storage",data:t}}},{key:"addEventListener",value:function(t,r){var e=this.getRandomId();return this.listeners.push({name:t,eventFn:r,listenerId:e}),e}},{key:"removeEventListener",value:function(t){return!!this.listeners.find((function(r){return r.listenerId===t}))&&(this.listeners=this.listeners.filter((function(r){return r.listenerId!==t})),!0)}},{key:"getRandomId",value:function(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}},{key:"isFunction",value:function(t){return typeof t=="function"}},{key:"isObject",value:function(t){return Object.prototype.toString.call(t)==="[object Object]"}},{key:"getLuigiCoreDomain",value:function(){return this.origin}},{key:"setLuigiCoreDomain",value:function(t){t&&t!=="null"&&(this.origin=t)}},{key:"setTargetOrigin",value:function(t){this.setLuigiCoreDomain(t)}},{key:"sendPostMessageToLuigiCore",value:function(t){if(this.origin)try{window.parent.postMessage(t,this.origin)}catch(r){console.warn("Unable to post message "+t+" to Luigi Core from origin "+this.origin+": "+r)}else console.warn('There is no target origin set. You can specify the target origin by calling LuigiClient.setTargetOrigin("targetorigin") in your micro frontend.')}},{key:"hasIntent",value:function(t){return!!t&&t.toLowerCase().includes("#?intent=")}},{key:"deSanitizeParamsMap",value:function(t){var r=this;return Object.entries(t).reduce((function(e,o){return e[r.deSanitizeParam(o[0])]=r.deSanitizeParam(o[1]),e}),{})}},{key:"deSanitizeParam",value:function(){return String(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;",'"').replaceAll("&#39;","'").replaceAll("&sol;","/")}}],n&&le(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,n})());function k(i){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},k(i)}function fe(i,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,ve(r.key),r)}}function ve(i){var n=(function(t){if(k(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var e=r.call(t,"string");if(k(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)})(i);return k(n)=="symbol"?n:n+""}function K(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(K=function(){return!!i})()}function _(i){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_(i)}function V(i,n){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},V(i,n)}var v=new((function(i){function n(){var e;return(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,n),(e=(function(o,a,u){return a=_(a),(function(l,c){if(c&&(k(c)=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f})(l)})(o,K()?Reflect.construct(a,[],_(o).constructor):a.apply(o,u))})(this,n)).luigiInitialized=!1,e.defaultContextKeys=["context","internal","nodeParams","pathParams","searchParams"],e.setCurrentContext(e.defaultContextKeys.reduce((function(o,a){return o[a]={},o}),{})),e._onContextUpdatedFns={},e._onInactiveFns={},e._onInitFns={},e.authData={},e._isDeferInitDefined()||e.luigiClientInit(),e}return(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&V(e,o)})(n,i),t=n,r=[{key:"_isDeferInitDefined",value:function(){return window.document.head.hasAttribute("defer-luigi-init")}},{key:"_isTpcCheckDisabled",value:function(){var e,o,a;return window.document.head.hasAttribute("disable-tpc-check")||((e=this.currentContext)===null||e===void 0||(o=e.internal)===null||o===void 0||(a=o.thirdPartyCookieCheck)===null||a===void 0?void 0:a.disabled)}},{key:"isLuigiClientInitialized",value:function(){return this.luigiInitialized}},{key:"luigiClientInit",value:function(){var e=this;if(this.luigiInitialized)console.warn("Luigi Client has been already initialized");else{var o=function(u){for(var l=0;l<e.defaultContextKeys.length;l++){var c=e.defaultContextKeys[l];try{typeof u[c]=="string"&&(u[c]=JSON.parse(u[c]))}catch(f){console.info("unable to parse luigi context data for",c,u[c],f)}}e.setCurrentContext(u)},a=function(u){u&&(e.authData=u)};s.addEventListener("luigi.init",(function(u){o(u.data),a(u.data.authData),s.setLuigiCoreDomain(u.origin),e.luigiInitialized=!0,e._notifyInit(u.origin),e._tpcCheck(),s.sendPostMessageToLuigiCore({msg:"luigi.init.ok"})})),s.addEventListener("luigi-client.inactive-microfrontend",(function(u){e._notifyInactive(u.origin)})),s.addEventListener("luigi.auth.tokenIssued",(function(u){a(u.data.authData)})),s.addEventListener("luigi.navigate",(function(u){if(o(u.data),!e.currentContext.internal.isNavigateBack&&!e.currentContext.withoutSync){var l=window.location.hash;history.replaceState({luigiInduced:!0},"",u.data.viewUrl),window.dispatchEvent(new PopStateEvent("popstate",{state:"luiginavigation"})),window.location.hash!==l&&window.dispatchEvent(new HashChangeEvent("hashchange"))}e.currentContext.withoutSync&&Object.assign(e.currentContext.context,{viewUrl:u.data.viewUrl?u.data.viewUrl:void 0,pathParams:u.data.pathParams?u.data.pathParams:void 0}),e._notifyUpdate(),s.sendPostMessageToLuigiCore({msg:"luigi.navigate.ok"})})),window.parent.postMessage({msg:"luigi.get-context",clientVersion:y(224).rE},"*")}}},{key:"_tpcCheck",value:function(){if(!this._isTpcCheckDisabled()){var e,o="enabled",a=document.cookie;a&&(e=a.split(";").map((function(u){return u.trim()})).find((function(u){return u==="luigiCookie=true"}))),e==="luigiCookie=true"&&(document.cookie="luigiCookie=; Max-Age=-99999999; SameSite=None; Secure"),document.cookie="luigiCookie=true; SameSite=None; Secure",(a=document.cookie)&&(e=a.split(";").map((function(u){return u.trim()})).find((function(u){return u==="luigiCookie=true"}))),e==="luigiCookie=true"?(document.cookie="luigiCookie=; Max-Age=-99999999; SameSite=None; Secure",window.parent.postMessage({msg:"luigi.third-party-cookie",tpc:o},"*")):(o="disabled",window.parent.postMessage({msg:"luigi.third-party-cookie",tpc:o},"*"),console.warn("Third party cookies are not supported!"))}}},{key:"_callAllFns",value:function(e,o,a){for(var u in e)e.hasOwnProperty(u)&&s.isFunction(e[u])&&e[u](o,a)}},{key:"_notifyInit",value:function(e){this._callAllFns(this._onInitFns,this.currentContext.context,e)}},{key:"_notifyUpdate",value:function(){this._callAllFns(this._onContextUpdatedFns,this.currentContext.context)}},{key:"_notifyInactive",value:function(){this._callAllFns(this._onInactiveFns)}},{key:"setCurrentContext",value:function(e){this.currentContext=e}},{key:"addInitListener",value:function(e,o){var a=s.getRandomId();return this._onInitFns[a]=e,o&&document.head.setAttribute("disable-tpc-check",""),this.luigiInitialized&&s.isFunction(e)&&e(this.currentContext.context,s.getLuigiCoreDomain()),a}},{key:"removeInitListener",value:function(e){return!!this._onInitFns[e]&&(this._onInitFns[e]=void 0,!0)}},{key:"addContextUpdateListener",value:function(e){var o=s.getRandomId();return this._onContextUpdatedFns[o]=e,this.luigiInitialized&&s.isFunction(e)&&e(this.currentContext.context),o}},{key:"removeContextUpdateListener",value:function(e){return!!this._onContextUpdatedFns[e]&&(this._onContextUpdatedFns[e]=void 0,!0)}},{key:"addInactiveListener",value:function(e){var o=s.getRandomId();return this._onInactiveFns[o]=e,o}},{key:"removeInactiveListener",value:function(e){return!!this._onInactiveFns[e]&&(this._onInactiveFns[e]=void 0,!0)}},{key:"addCustomMessageListener",value:function(e,o){return s.addEventListener(e,(function(a,u){return o(a,u)}))}},{key:"removeCustomMessageListener",value:function(e){return s.removeEventListener(e)}},{key:"getToken",value:function(){return this.authData.accessToken}},{key:"getContext",value:function(){return this.getEventData()}},{key:"getEventData",value:function(){return this.currentContext.context}},{key:"getActiveFeatureToggles",value:function(){return this.currentContext.internal.activeFeatureToggleList}},{key:"addNodeParams",value:function(e){var o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];e&&s.sendPostMessageToLuigiCore({msg:"luigi.addNodeParams",data:e,keepBrowserHistory:o})}},{key:"getNodeParams",value:function(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]?s.deSanitizeParamsMap(this.currentContext.nodeParams):this.currentContext.nodeParams}},{key:"getPathParams",value:function(){return this.currentContext.pathParams}},{key:"getCoreSearchParams",value:function(){return this.currentContext.searchParams||{}}},{key:"addCoreSearchParams",value:function(e){var o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];e&&s.sendPostMessageToLuigiCore({msg:"luigi.addSearchParams",data:e,keepBrowserHistory:o})}},{key:"getClientPermissions",value:function(){return this.currentContext.internal.clientPermissions||{}}},{key:"setTargetOrigin",value:function(e){s.setTargetOrigin(e)}},{key:"sendCustomMessage",value:function(e){var o=s.convertCustomMessageUserToInternal(e);s.sendPostMessageToLuigiCore(o)}},{key:"getUserSettings",value:function(){return this.currentContext.internal.userSettings}},{key:"getAnchor",value:function(){return this.currentContext.internal.anchor||""}},{key:"setAnchor",value:function(e){s.sendPostMessageToLuigiCore({msg:"luigi.setAnchor",anchor:e})}},{key:"setViewGroupData",value:function(e){s.sendPostMessageToLuigiCore({msg:"luigi.setVGData",data:e})}}],r&&fe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r})(E));function C(i){return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},C(i)}function de(i,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,ye(r.key),r)}}function ye(i){var n=(function(t){if(C(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var e=r.call(t,"string");if(C(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)})(i);return C(n)=="symbol"?n:n+""}function q(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(q=function(){return!!i})()}function M(i){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},M(i)}function U(i,n){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},U(i,n)}var ge=(function(i){function n(e){var o;return(function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")})(this,n),(o=(function(a,u,l){return u=M(u),(function(c,f){if(f&&(C(f)=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d})(c)})(a,q()?Reflect.construct(u,[],M(a).constructor):u.apply(a,l))})(this,n)).validSplitViewEvents=["expand","collapse","resize","close"],o.splitView={exists:!0,size:40,collapsed:!1},Object.assign(o.splitView,e),o.splitView.listeners=[s.addEventListener("luigi.navigation.splitview.internal",(function(a){Object.assign(o.splitView,a.data.data)}))],o.on("resize",(function(a){o.splitView.size=a})),o.on("close",(function(){o.splitView.listeners.forEach((function(a){return s.removeEventListener(a)}))})),o}return(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&U(e,o)})(n,i),t=n,r=[{key:"sendSplitViewEvent",value:function(e,o){s.sendPostMessageToLuigiCore({msg:"luigi.navigation.splitview.".concat(e),data:o})}},{key:"collapse",value:function(){this.sendSplitViewEvent("collapse")}},{key:"expand",value:function(){this.sendSplitViewEvent("expand")}},{key:"close",value:function(){this.sendSplitViewEvent("close")}},{key:"setSize",value:function(e){this.sendSplitViewEvent("resize",e)}},{key:"on",value:function(e,o){if(!this.validSplitViewEvents.includes(e))return console.warn(e+" is not a valid split view event"),!1;var a=s.addEventListener("luigi.navigation.splitview.".concat(e,".ok"),(function(u){var l=typeof u.data.data=="number"?u.data.data:void 0;o(l)}));return this.splitView.listeners.push(a),a}},{key:"removeEventListener",value:function(e){return s.removeEventListener(e)}},{key:"exists",value:function(){return this.splitView.exists}},{key:"getSize",value:function(){return this.splitView.size}},{key:"isCollapsed",value:function(){return this.splitView.collapsed}},{key:"isExpanded",value:function(){return!this.splitView.collapsed}}],r&&de(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r})(E);function P(i){return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},P(i)}function pe(i,n){return(function(t){if(Array.isArray(t))return t})(i)||(function(t,r){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var o,a,u,l,c=[],f=!0,d=!1;try{if(u=(e=e.call(t)).next,r!==0)for(;!(f=(o=u.call(e)).done)&&(c.push(o.value),c.length!==r);f=!0);}catch(g){d=!0,a=g}finally{try{if(!f&&e.return!=null&&(l=e.return(),Object(l)!==l))return}finally{if(d)throw a}}return c}})(i,n)||G(i,n)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function G(i,n){if(i){if(typeof i=="string")return Q(i,n);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Q(i,n):void 0}}function Q(i,n){(n==null||n>i.length)&&(n=i.length);for(var t=0,r=Array(n);t<n;t++)r[t]=i[t];return r}function me(i,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,he(r.key),r)}}function he(i){var n=(function(t){if(P(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var e=r.call(t,"string");if(P(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)})(i);return P(n)=="symbol"?n:n+""}function $(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return($=function(){return!!i})()}function A(i){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A(i)}function N(i,n){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},N(i,n)}var be=(function(i){function n(e){var o;return(function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")})(this,n),o=(function(a,u,l){return u=A(u),(function(c,f){if(f&&(P(f)=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d})(c)})(a,$()?Reflect.construct(u,[],A(a).constructor):u.apply(a,l))})(this,n),Object.assign(o,e),o.options={preserveView:!1,nodeParams:{},errorSkipNavigation:!1,fromContext:null,fromClosestContext:!1,fromVirtualTreeRoot:!1,fromParent:!1,relative:!1,link:"",newTab:!1,preserveQueryParams:!1,anchor:"",preventContextUpdate:!1,preventHistoryEntry:!1},o}return(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&N(e,o)})(n,i),t=n,r=[{key:"navigate",value:function(e,o,a,u,l,c){if(this.options.errorSkipNavigation)this.options.errorSkipNavigation=!1;else{u&&l&&c&&console.warn("modalSettings, splitViewSettings and drawerSettings cannot be used together. Only modal setting will be taken into account."),this.options.preserveView=a;var f=e[0]!=="/";if(e==="/"&&(u||l||c))console.warn("Navigation with an absolute path prevented.");else{var d={msg:"luigi.navigation.open",sessionId:o,params:Object.assign(this.options,{link:e,relative:f,intent:s.hasIntent(e),modal:u,splitView:l,drawer:c})};s.sendPostMessageToLuigiCore(d)}}}},{key:"updateModalPathInternalNavigation",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(e){var u={msg:"luigi.navigation.updateModalDataPath",params:Object.assign(this.options,{link:e,modal:o,history:a})};s.sendPostMessageToLuigiCore(u)}else console.warn("Updating path of the modal upon internal navigation prevented. No path specified.")}},{key:"navigateToIntent",value:function(e){var o,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u="#?intent=";if(u+=e,a&&(o=Object.keys(a))!==null&&o!==void 0&&o.length){var l=Object.entries(a);if(l.length>0){u+="?";var c,f=(function(g){var h=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!h){if(Array.isArray(g)||(h=G(g))){h&&(g=h);var ee=0,te=function(){};return{s:te,n:function(){return ee>=g.length?{done:!0}:{done:!1,value:g[ee++]}},e:function(O){throw O},f:te}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ne,re=!0,oe=!1;return{s:function(){h=h.call(g)},n:function(){var O=h.next();return re=O.done,O},e:function(O){oe=!0,ne=O},f:function(){try{re||h.return==null||h.return()}finally{if(oe)throw ne}}}})(l);try{for(f.s();!(c=f.n()).done;){var d=pe(c.value,2);u+=d[0]+"="+d[1]+"&"}}catch(g){f.e(g)}finally{f.f()}u=u.slice(0,-1)}}this.navigate(u)}},{key:"openAsModal",value:function(e){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.addEventListener("luigi.navigation.modal.close",(function(l,c){var f=o.getPromise("modal");f&&(f.resolveFn(l.data),o.setPromise("modal",void 0)),s.removeEventListener(c)}));var u={};return u.promise=new Promise((function(l,c){u.resolveFn=l,u.rejectFn=c})),this.setPromise("modal",u),this.navigate(e,0,!0,a),u.promise}},{key:"updateModalSettings",value:function(){var e={msg:"luigi.navigation.updateModalSettings",updatedModalSettings:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},addHistoryEntry:arguments.length>1&&arguments[1]!==void 0&&arguments[1]};s.sendPostMessageToLuigiCore(e)}},{key:"openAsSplitView",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.navigate(e,0,!0,void 0,o),new ge(o)}},{key:"openAsDrawer",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.navigate(e,0,!0,void 0,void 0,o)}},{key:"fromContext",value:function(e){return this.currentContext.context.parentNavigationContexts&&this.currentContext.context.parentNavigationContexts.indexOf(e)!==-1?this.options.fromContext=e:(this.options.errorSkipNavigation=!0,console.error("Navigation not possible, navigationContext "+e+" not found.")),this}},{key:"fromClosestContext",value:function(){var e;return((e=this.currentContext)===null||e===void 0?void 0:e.context.parentNavigationContexts.length)>0?(this.options.fromContext=null,this.options.fromClosestContext=!0):console.error("Navigation not possible, no parent navigationContext found."),this}},{key:"fromVirtualTreeRoot",value:function(){return this.options.fromContext=null,this.options.fromClosestContext=!1,this.options.fromVirtualTreeRoot=!0,this}},{key:"fromParent",value:function(){return this.options.fromParent=!0,this}},{key:"withParams",value:function(e){return e&&Object.assign(this.options.nodeParams,e),this}},{key:"withOptions",value:function(e){return s.isObject(e)?(e.preventHistoryEntry!==void 0&&(this.options.preventHistoryEntry=e.preventHistoryEntry),e.preventContextUpdate!==void 0&&(this.options.preventContextUpdate=e.preventContextUpdate),this):this}},{key:"pathExists",value:function(e){var o=s.getRandomId(),a=this.getPromise("pathExistsPromises")||{};a[o]={resolveFn:function(){},then:function(l){this.resolveFn=l}},this.setPromise("pathExistsPromises",a),s.addEventListener("luigi.navigation.pathExists.answer",(function(l,c){var f=l.data.data,d=this.getPromise("pathExistsPromises")||{};f.correlationId===o&&(d[f.correlationId]&&(d[f.correlationId].resolveFn(f.pathExists),delete d[f.correlationId],this.setPromise("pathExistsPromises",d)),s.removeEventListener(c))}).bind(this));var u={msg:"luigi.navigation.pathExists",data:Object.assign(this.options,{id:o,link:e,intent:s.hasIntent(e),relative:e[0]!=="/"})};return s.sendPostMessageToLuigiCore(u),a[o]}},{key:"hasBack",value:function(){return!!this.currentContext.internal.modal||this.currentContext.internal.viewStackSize!==0}},{key:"goBack",value:function(e){s.sendPostMessageToLuigiCore({msg:"luigi.navigation.back",goBackContext:e&&JSON.stringify(e)})}},{key:"withoutSync",value:function(){return this.options.withoutSync=!0,this}},{key:"newTab",value:function(){return this.options.newTab=!0,this}},{key:"preserveQueryParams",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return this.options.preserveQueryParams=e,this}},{key:"getCurrentRoute",value:function(){var e=this,o=s.getRandomId(),a=this.getPromise("getCurrentRoute")||{};return a[o]={resolveFn:function(){},then:function(u){this.resolveFn=u}},this.setPromise("getCurrentRoute",a),s.addEventListener("luigi.navigation.currentRoute.answer",(function(u,l){var c=u.data.data,f=e.getPromise("getCurrentRoute")||{};c.correlationId===o&&(f[c.correlationId]&&(f[c.correlationId].resolveFn(c.route),delete f[c.correlationId],e.setPromise("getCurrentRoute",f)),s.removeEventListener(l)),s.removeEventListener(l)})),s.sendPostMessageToLuigiCore({msg:"luigi.navigation.currentRoute",data:Object.assign(this.options,{id:o})}),a[o]}}],r&&me(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r})(E);function S(i){return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},S(i)}function we(i,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,ke(r.key),r)}}function ke(i){var n=(function(t){if(S(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var e=r.call(t,"string");if(S(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)})(i);return S(n)=="symbol"?n:n+""}function J(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(J=function(){return!!i})()}function F(i){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F(i)}function z(i,n){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},z(i,n)}var Ce=new((function(i){function n(){var e;return(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,n),e=(function(o,a,u){return a=F(a),(function(l,c){if(c&&(S(c)=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f})(l)})(o,J()?Reflect.construct(a,[],F(o).constructor):a.apply(o,u))})(this,n),s.addEventListener("luigi.current-locale-changed",(function(o){var a;o.data.currentLocale&&(a=v.currentContext)!==null&&a!==void 0&&a.internal&&(v.currentContext.internal.currentLocale=o.data.currentLocale,v._notifyUpdate())})),e}return(function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&z(e,o)})(n,i),t=n,r=[{key:"showLoadingIndicator",value:function(){s.sendPostMessageToLuigiCore({msg:"luigi.show-loading-indicator"})}},{key:"hideLoadingIndicator",value:function(){s.sendPostMessageToLuigiCore({msg:"luigi.hide-loading-indicator"})}},{key:"closeCurrentModal",value:function(){s.sendPostMessageToLuigiCore({msg:"luigi.close-modal"})}},{key:"addBackdrop",value:function(){s.sendPostMessageToLuigiCore({msg:"luigi.add-backdrop"})}},{key:"removeBackdrop",value:function(){s.sendPostMessageToLuigiCore({msg:"luigi.remove-backdrop"})}},{key:"setDirtyStatus",value:function(e){s.sendPostMessageToLuigiCore({msg:"luigi.set-page-dirty",dirty:e})}},{key:"showConfirmationModal",value:function(e){var o=this;s.addEventListener("luigi.ux.confirmationModal.hide",(function(u,l){o.hideConfirmationModal(u.data.data),s.removeEventListener(l)})),s.sendPostMessageToLuigiCore({msg:"luigi.ux.confirmationModal.show",data:{settings:e}});var a={};return a.promise=new Promise((function(u,l){a.resolveFn=u,a.rejectFn=l})),this.setPromise("confirmationModal",a),a.promise}},{key:"hideConfirmationModal",value:function(e){var o=this.getPromise("confirmationModal");o&&(e.confirmed?o.resolveFn():o.rejectFn(),this.setPromise("confirmationModal",void 0))}},{key:"showAlert",value:function(e){var o=this;e.id=s.getRandomId(),s.addEventListener("luigi.ux.alert.hide",(function(u,l){u.data.id===e.id&&(o.hideAlert(u.data),s.removeEventListener(l))})),e?.closeAfter<100&&(console.warn("Message with id='".concat(e.id,"' has too small 'closeAfter' value. It needs to be at least 100ms.")),e.closeAfter=void 0),s.sendPostMessageToLuigiCore({msg:"luigi.ux.alert.show",data:{settings:e}});var a=this.getPromise("alerts")||{};return a[e.id]={},a[e.id].promise=new Promise((function(u){a[e.id].resolveFn=u})),this.setPromise("alerts",a),a[e.id].promise}},{key:"hideAlert",value:function(e){var o=e.id,a=e.dismissKey,u=this.getPromise("alerts");o&&u[o]&&(u[o].resolveFn(a||o),delete u[o],this.setPromise("alerts",u))}},{key:"getCurrentLocale",value:function(){var e,o;return(e=v.currentContext)===null||e===void 0||(o=e.internal)===null||o===void 0?void 0:o.currentLocale}},{key:"setCurrentLocale",value:function(e){e&&s.sendPostMessageToLuigiCore({msg:"luigi.ux.set-current-locale",data:{currentLocale:e}})}},{key:"isSplitView",value:function(){var e,o;return(e=v.currentContext)===null||e===void 0||(o=e.internal)===null||o===void 0?void 0:o.splitView}},{key:"isModal",value:function(){var e,o;return(e=v.currentContext)===null||e===void 0||(o=e.internal)===null||o===void 0?void 0:o.modal}},{key:"isDrawer",value:function(){var e,o;return(e=v.currentContext)===null||e===void 0||(o=e.internal)===null||o===void 0?void 0:o.drawer}},{key:"getCurrentTheme",value:function(){var e,o;return(e=v.currentContext)===null||e===void 0||(o=e.internal)===null||o===void 0?void 0:o.currentTheme}},{key:"getCSSVariables",value:function(){var e,o;return((e=v.currentContext)===null||e===void 0||(o=e.internal)===null||o===void 0?void 0:o.cssVariables)||{}}},{key:"applyCSS",value:function(){var e,o;document.querySelectorAll("head style[luigi-injected]").forEach((function(c){c.remove()}));var a=(e=v.currentContext)===null||e===void 0||(o=e.internal)===null||o===void 0?void 0:o.cssVariables;if(a){var u=`:root {
`;Object.keys(a).forEach((function(c){var f=a[c];u+=(c.startsWith("--")?"":"--")+c+":"+f+`;
`})),u+="}";var l=document.createElement("style");l.setAttribute("luigi-injected",!0),l.innerHTML=u,document.head.appendChild(l)}}}],r&&we(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r})(E));function x(i){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},x(i)}function W(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}function Pe(i,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Se(r.key),r)}}function Y(i,n,t){return n&&Pe(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}function Se(i){var n=(function(t){if(x(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var e=r.call(t,"string");if(x(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)})(i);return x(n)=="symbol"?n:n+""}function X(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(X=function(){return!!i})()}function R(i){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R(i)}function B(i,n){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},B(i,n)}var I=new Map,xe=(function(i){function n(){var t,r,e,o;return W(this,n),(r=this,e=n,e=R(e),t=(function(a,u){if(u&&(x(u)=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l})(a)})(r,X()?Reflect.construct(e,[],R(r).constructor):e.apply(r,o))).storageEventProcessor=new Oe,s.addEventListener("storage",(function(a,u){return t.storageEventProcessor.processEvent(a,u)})),t}return(function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&B(t,r)})(n,i),Y(n,[{key:"setItem",value:function(t,r){var e=this;return new Promise((function(o,a){e.storageEventProcessor.execute(o,a,"setItem",{key:t,value:r})}))}},{key:"getItem",value:function(t){var r=this;return new Promise((function(e,o){r.storageEventProcessor.execute(e,o,"getItem",{key:t})}))}},{key:"removeItem",value:function(t){var r=this;return new Promise((function(e,o){r.storageEventProcessor.execute(e,o,"removeItem",{key:t})}))}},{key:"clear",value:function(){var t=this;return new Promise((function(r,e){t.storageEventProcessor.execute(r,e,"clear",{})}))}},{key:"has",value:function(t){var r=this;return new Promise((function(e,o){r.storageEventProcessor.execute(e,o,"has",{key:t})}))}},{key:"getAllKeys",value:function(){var t=this;return new Promise((function(r,e){t.storageEventProcessor.execute(r,e,"getAllKeys",{})}))}}])})(E),Oe=(function(){return Y((function i(){W(this,i)}),[{key:"processEvent",value:function(i,n){try{var t=i.data.data;if(!I.has(t.id))return void console.log("Impossible to find Promise method for message "+t.id);var r=I.get(t.id);t.status==="ERROR"?r.reject(t.result):r.resolve(t.result),I.delete(t.id)}catch(e){console.error(e)}}},{key:"waitForSyncResult",value:function(i){for(var n=new Date().getTime();!syncOperation.has(i);)if(new Date().getTime()-n>1e4)throw"Storage operation is taking more than 1 second...Some problem with Luigi Core communication";var t=syncOperation.get(i);return I.delete(i),t}},{key:"execute",value:function(i,n,t,r){var e=s.getRandomId();this.createPendingOperation(e,i,n),this.sendMessage(e,t,r)}},{key:"createPendingOperation",value:function(i,n,t){I.set(i,{resolve:n,reject:t})}},{key:"sendMessage",value:function(i,n,t){s.sendPostMessageToLuigiCore({msg:"storage",data:{id:i,operation:n,params:t}})}}])})(),je=new xe;function T(i){return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},T(i)}function Ee(i,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Le(r.key),r)}}function Le(i){var n=(function(t){if(T(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var e=r.call(t,"string");if(T(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)})(i);return T(n)=="symbol"?n:n+""}var Z=(function(){return i=function t(){(function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),window!==window.top&&(window.document.head.getAttribute("disable-luigi-history-handling")!=="true"&&(history.pushState=history.replaceState.bind(history)),window.document.head.getAttribute("disable-luigi-runtime-error-handling")!=="true"&&window.addEventListener("error",(function(r){var e={msg:"luigi-runtime-error-handling",errorObj:{filename:r.filename,message:r.message,lineno:r.lineno,colno:r.colno,error:r.error}};s.sendPostMessageToLuigiCore(e)})))},(n=[{key:"addInitListener",value:function(t,r){return v.addInitListener(t,r)}},{key:"removeInitListener",value:function(t){return v.removeInitListener(t)}},{key:"addContextUpdateListener",value:function(t){return v.addContextUpdateListener(t)}},{key:"removeContextUpdateListener",value:function(t){return v.removeContextUpdateListener(t)}},{key:"getToken",value:function(){return v.getToken()}},{key:"getEventData",value:function(){return v.getEventData()}},{key:"getContext",value:function(){return v.getContext()}},{key:"addNodeParams",value:function(t,r){return v.addNodeParams(t,r)}},{key:"getNodeParams",value:function(t){return v.getNodeParams(t)}},{key:"getActiveFeatureToggles",value:function(){return v.getActiveFeatureToggles()}},{key:"getPathParams",value:function(){return v.getPathParams()}},{key:"getCoreSearchParams",value:function(){return v.getCoreSearchParams()}},{key:"addCoreSearchParams",value:function(t,r){return v.addCoreSearchParams(t,r)}},{key:"getClientPermissions",value:function(){return v.getClientPermissions()}},{key:"sendCustomMessage",value:function(t){return v.sendCustomMessage(t)}},{key:"addCustomMessageListener",value:function(t,r){return v.addCustomMessageListener(t,r)}},{key:"removeCustomMessageListener",value:function(t){return v.removeCustomMessageListener(t)}},{key:"addInactiveListener",value:function(t,r){return v.addInactiveListener(t,r)}},{key:"removeInactiveListener",value:function(t){return v.removeInactiveListener(t)}},{key:"setTargetOrigin",value:function(t){return v.setTargetOrigin(t)}},{key:"getUserSettings",value:function(){return v.getUserSettings()}},{key:"isLuigiClientInitialized",value:function(){return v.isLuigiClientInitialized()}},{key:"luigiClientInit",value:function(){return v.luigiClientInit()}},{key:"getAnchor",value:function(){return v.getAnchor()}},{key:"setAnchor",value:function(t){return v.setAnchor(t)}},{key:"setViewGroupData",value:function(t){return v.setViewGroupData(t)}},{key:"linkManager",value:function(){return new be({currentContext:v.currentContext})}},{key:"uxManager",value:function(){return Ce}},{key:"lifecycleManager",value:function(){return v}},{key:"storageManager",value:function(){return je}}])&&Ee(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,n})();const Ie=Z=new Z;return w.default})()))})(H)),H.exports}var ae=Me();const Ae=_e(ae),Fe=Te({__proto__:null,default:Ae},[ae]);export{Fe as l};
